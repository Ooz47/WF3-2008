<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Exercice 2 | jQuery</title>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>

<div class="container mt-5">
    <div class="row">
        <div class="col-6 mx-auto">
            <h1>Newsletter</h1>
            <p>Inscrivez-vous à notre lettre d'information, et restez
                informé de toutes les nouveautés.</p>
            <form id="newsletter">
                <div class="mb-3">
                    <input class="form-control" type="text" placeholder="Saisissez votre e-mail.">
                </div>
                <div class="d-grid gap-2">
                    <button class="btn btn-dark">M'inscrire à la lettre d'information</button>
                </div> <!-- .d-grid.gap-2 -->
                <div id="helpForm"></div>
            </form>
        </div> <!-- .col -->
    </div> <!-- .row -->
</div> <!-- .container -->

<!-- Librairie jQuery -->
<script  src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>

<!-- - créer une function avec jquery qui
    - récupère les données entrées par l’utilisateurs dans une variable
        - si > 5  ⇒ remplace formulaire par message de succès
        - si positif mais inférieur à 5, affiche  “votre email est bien court”
        - sinon afficher “Vous devez remplir le champ email” -->

<script>
$('#newsletter').submit(function(e) {
    e.preventDefault(); // Annule la redirection

    if ($('input').val().length >= 5) {
            // console.log('ok');
            $(this).replaceWith("<div class=\"alert alert-success\"> Merci, " + $('input').val() + " vous êtes inscrit. </div>");
            
            } else if ($('input').val().length < 5 && $('input').val().length != 0) {
                $("#helpForm").html("Votre email est bien court");
            } 
            else 
            {
                $("#helpForm").html("Vous devez remplir le champ email");
            };

});

</script>


</body>
</html>